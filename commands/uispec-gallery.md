---
description: 遵循严苛的增量构建协议，确保高保真组件展厅的质量、一致性与语言合规。
---

# /uispec-gallery: 严苛级增量构建协议 (V7.0 全量覆盖版)

## 0. 任务目标 (Task Objective)
本项任务的核心职责是依据指定的 **设计规范 (Design Specification)**，从零开始或增量式地构建一个包含全量组件状态的高保真 **UI 展厅 (Showroom)**。构建过程必须通过严格的原子化循环，将组件清单中的每一项转化为符合技术标准、视觉规范且完全本地化的代码实现。

## 1. 全局构建约束 (Guardrails)

在开始任何生成任务前，必须确保满足以下三项核心约束：

*   **设计规范引用 (Spec Reference)**: 
    *   优先依照用户在指令中明确指定的设计规范进行构建。
    *   若用户未指定，则默认从 `.uispec/current-spec.json` 中读取当前激活的设计规范。
*   **技术要求 (Technical)**:
    *   严格使用 **Tailwind CSS** (通过 CDN 引入，禁止 ad-hoc <style>)。
    *   图标库统一使用 **Lucide**。
    *   字体系统：标题使用 `Outfit`，正文使用 `Inter`。
*   **语言要求 (Language)**:
    *   **100% 汉化**: 严禁生成任何英文占位符后再翻译。
*   **UI 展厅形态要求 (Showroom Persona)**: 
    *   **模块化画板**: 每个组件必须承载于独立的、带有语义化背景的画板 (`Artboard`) 中，严禁简单堆叠代码。
    *   **高保真排版**: 展厅必须具备清晰的层级（包含侧边栏导航、页眉说明、模块化分组）。
    *   **动态交互还原**: 依据设计规范定义的交互令牌 (Interaction Tokens)，为关键组件配置完整的状态反馈（如 Hover, Active, Focus 等），并确保画板标题的视觉样式能够清晰体现组件的逻辑分类。
    *   **规范维度契合**: 必须 100% 还原目标设计规范在 **视觉风格** (色彩/质感/氛围)、**布局** (间距/响应式)、**交互** (状态/反馈)、**动效** (时长/缓动)、**字体** (家族/层级) 及 **图标** (风格/尺寸) 这 6 个维度的品牌基因，确保展厅呈现出统一且专业的交付水准。
*   **流程要求 (Process)**:
    *   **原子化增量插入**: 必须使用锚点定位技术进行无损增量插入。
    *   **四级自检**: 必须完成缺失检查、技术检查、设计规范一致性检查、语言检查。

---

## 2. 增量构建流程 (Incremental Lifecycle)

1.  **任务拆分**: 将专业组件清单中的每一项组件按照下面步骤拆分成独立任务。
2.  **任务记录**: 将拆分后的任务记录至 `task.md` 中。
3.  **任务执行**: 严格按顺序执行 `task.md` 中的每一项任务。

### 2.1 第一步：初始化展厅骨架
若展厅文件不存在，必须先构建布局框架：
*   **骨架搭建**: 创建包含侧边栏、固定页眉、自适应画布区域的 HTML5 结构。
*   **基础资产**: 引入预设的 Tailwind, Lucide 及 Google Fonts，定义关键 CSS 画板组件类。
*   **预置锚点**: 在分类模块内预置 HTML 注释锚点 (如 `<!-- SECTION: XX -->`)。

### 2.2 第二步：执行组件增量构建循环

针对清单中的单项组件及其全量交互状态矩阵，执行如下“生成-自检-修正”闭环，确保新生成的原子代码能够精准嵌入展厅 HTML 的安全锚点位置，实现高保真的无损增量集成。

#### 2.2.1 生成 (Generate)
*   **生成要求**:
    *   **规范对齐**: 必须强制引用当前设计规范定义的 Token 值。
    *   **状态全量**: 必须单次生成该组件在清单中定义的所有交互变体。
    *   **代码原子化**: 禁止生成冗余的容器，确保代码可无缝迁移至展厅锚点。

#### 2.2.2 自检 (Verify)
依据以下四个维度进行严苛审计：
1.  **完备性检查**: 核对是否完整覆盖了清单描述的所有属性、状态、ID 与锚点。
2.  **技术合规性检查**: 核实布局是否具备弹性（禁止硬编码偏移）、库使用是否规范、是否存在样式污染。
3.  **设计一致性检查**: 使用工具或视觉比对，核实视觉产物与设计规范 Token 的匹配度是否达到 100%。
4.  **语言与内容合规性检查**: 核实所有展示文字、提示信息、占位数据是否实现 100% 本地化且语境自然。

#### 2.2.3 修正与集成 (Refine & Integrate)
*   **错误回溯**: 自检发现任何瑕疵必须立即修正并重走自检。
*   **安全集成**: 采用“锚点注入”策略，基于上下文隔离原则，将代码增量插入展厅，确保不干扰已有构建成果。


### 2.3 第三步：全量完备性审查
在所有组件构建结束后，进行一次全局扫描：
*   **数量审核**: 交叉比照组件清单与展厅源码，确认无任何漏项。
*   **交互审计**: 预览展厅，确认所有定义的悬停、点击、加载等交互状态是否均能按预期生效。

### 2.4 第四步：任务清单闭环
*   **同步状态**: 在 `task.md` 中完成最后一批勾选。
*   **状态宣告**: 确认所有任务均处于 `[x]` 状态，正式宣告构建阶段圆满结束。

---

## 3. 专业组件清单 (Component Manifest) - 全量版

### 一、 视觉底座 (Foundation)
*   **色彩 (Colors)**: 主色、成功、警告、危险、信息。HEX 值与语义定义。
*   **排版 (Typography)**: H1-H4, Body-LG, Body-MD, Caption, 字间距及行高规范。
*   **视觉深度 (Depth)**: 阴影 L1-L4；玻璃模糊 (Backdrop-Blur) 10-20px。
*   **间距与圆角 (Metrics)**: 4px 步进间距；XS(4)-XL(20) 级圆角梯度。
*   **图标学 (Iconography)**: 16/20/24/32px 四级尺寸规范。

### 二、 交互单元 (Actions)
*   **按钮矩阵 (Button Matrix)**: 
    *   类型：主按钮、次按钮、次级 Tint、描边、危险。
    *   状态：默认、悬停、点击、禁用、加载中。
*   **悬浮与图标 (FAB & Icons)**: 悬浮动作按钮、语义图标组。
*   **切换单元 (Option Bars)**: 分段控制器 (Segmented)、滑动选择器。

### 三、 录入系统 (Entry Systems)
*   **输入全态 (Input Mastery)**:
    *   通用：默认、聚焦、验证成功、错误提示、禁用、只读。
    *   变体：搜索、密码、多行文本域 (TextArea)。
*   **选择矩阵 (Selection)**: 开关 (Toggle)、复选框 (Checkbox)、单选框 (Radio)。
*   **高级录入 (Modern Pickers)**: 时间选择器 (Time)、日期选择器 (Date)、滑动滚轮选择器 (Wheel Picker)。
*   **步进与调节 (Adjusters)**: 线性/扇形滑块 (Slider)、按钮步进器 (Stepper)。

### 四、 布局容器 (Structural Framing)
*   **仿真外壳 (Device Shell)**: 状态栏、物理边框、导航栏 (NavBar)。
*   **导航辅助 (Nav Helpers)**: 底部标签栏 (TabBar) 含 Badge、手风琴折叠 (Accordion)。
*   **浮层模态 (Overlays)**: **[新增]** 半屏抽屉 (Bottom Sheet)、中置对话框 (Dialog)、气泡提示 (Popover/Tooltip)。
*   **原子容器 (Containers)**: 语义单元格 (Cell)、标准/晶体卡片、功能网格分组。

### 五、 展示与反馈 (Display & Feedback)
*   **数据元素 (Indicators)**: 状态标签 (Tags/Badges)、头像 (Avatars) 含在线状态。
*   **遥测可视化 (Visual Data)**: **[新增]** 线性实时趋势图 (Line Chart)、占比环形图 (Donut Chart)、信号强度指示器 (Signal)。
*   **实时反馈 (Messaging)**: 语义警告条 (Alerts)、全局轻提示 (Toasts)。
*   **维护状态 (Status)**: 成功/失败结果页、空状态占位 (Empty)、骨架屏加载 (Skeleton)。
